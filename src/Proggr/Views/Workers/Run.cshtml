@{
    ViewBag.Title = "Worker Running";
    Layout = "~/Views/Shared/_BootstrapLayout.cshtml";
}

<div class="row">&nbsp;</div>

<div class="row">
    <div class="span12">
        <h2>Worker</h2>
        <h1 class="accent" id="currentTask">Initializing Worker Drone</h1>
    </div>
</div>

<div class="row">
    <div class="span12">
        <h4>Worker History</h4>
        <ul id="history"></ul>
    </div>
</div>

<div id="progress-info" style="position: fixed; bottom: 32px; left: 0; height: 32px; width: 100%; display: block;">
    Current Task Progress:
</div>
<div id="progress" style="position: fixed; bottom: 0; left: 0; height: 32px; width: 100px; display: block;" class="purplebg"></div>

@section JavaScript {
    <script type="text/javascript" src="~/Content/js/workHandler.js"></script>
    <script type="text/javascript" src="~/Content/js/tests.js"></script>
    <script type="text/javascript" src="~/Content/js/testruntask.js"></script>
    <script type="text/javascript">
        (function ($) {
            $(function () {
                var worker = new Worker("@Model.id");
                worker.enqueue(TestRunTask);
                worker.nextTask();
            });
        })(jQuery);
    </script>
}